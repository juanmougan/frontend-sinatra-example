<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>frontend-sinatra-example</title>
  </head>
  <body>
    <h1>Welcome to frontend-sinatra-example</h1>
    <p>Visitors so far: <strong id="counter">Waiting for the API...</strong></p>
    <script>
      fetch('http://localhost:5100/visitors').then(function(response) {
        if (response.ok) {
          response.text().then(function(visitors) {
            counter = document.getElementById("counter")
            counter.innerHTML = visitors
          });
        } else {
          console.log('HTTP response was not ok');
        }
      }).catch(function(error) {
        console.error('There has been a problem with your fetch operation:', error);
      });
   //    let response = await fetch(url);
   //    if (response.ok) {
    //  let visitors = await response.text()
    //  counter = document.getElementById("counter")
    //  counter.innerHTML = visitors
    // } else {
    //  alert("HTTP-Error: " + response.status)
    // }
    </script>
  </body>
</html>
